# âœ… æœ€çµ‚æ¸¬è©¦æª¢æŸ¥æ¸…å–®

## ğŸ¯ æ¸¬è©¦ç›®æ¨™

ç¢ºèªæ•´åˆå¾Œçš„ `home` æ‡‰ç”¨åŠŸèƒ½æ­£å¸¸ï¼Œå¯ä»¥å®‰å…¨æ¨é€åˆ° GitHub ä¸¦éƒ¨ç½²ã€‚

---

## âœ… å»ºç½®æ¸¬è©¦ï¼ˆå·²å®Œæˆï¼‰

- [x] **å»ºç½®æˆåŠŸ** - `pnpm build --filter=home` é€šé
- [x] **TypeScript æª¢æŸ¥** - ç„¡é¡å‹éŒ¯èª¤
- [x] **è·¯ç”±ç”Ÿæˆ** - æ‰€æœ‰è·¯ç”±æ­£ç¢ºç”Ÿæˆï¼š
  - `/` - é¦–é 
  - `/ratings` - é¤å»³è©•åˆ†ç³»çµ±
  - `/auth/callback` - Magic Link å›èª¿
  - `/auth/login` - ç™»å…¥ API
  - `/auth/logout` - ç™»å‡º API
  - `/auth/register` - è¨»å†Š API
  - `/api/reviews` - è©•è«– API
  - `/api/profile` - ç”¨æˆ¶è³‡æ–™ API

---

## ğŸ§ª åŠŸèƒ½æ¸¬è©¦ï¼ˆè«‹æ‰‹å‹•æ¸¬è©¦ï¼‰

### 1. é¦–é æ¸¬è©¦

è¨ªå•ï¼š`http://localhost:3000`

- [ ] çœ‹åˆ° "ICHEN-appsï¼" æ¨™é¡Œ
- [ ] çœ‹åˆ° "é¤å»³è©•åˆ†ç³»çµ±" å¡ç‰‡
- [ ] é»æ“Šå¡ç‰‡å¯ä»¥è·³è½‰åˆ° `/ratings`

### 2. è©•åˆ†ç³»çµ±é é¢æ¸¬è©¦

è¨ªå•ï¼š`http://localhost:3000/ratings`

- [ ] çœ‹åˆ° "é¤å»³è©•åˆ†ç³»çµ±" æ¨™é¡Œ
- [ ] çœ‹åˆ° "â† å›é¦–é " é€£çµ
- [ ] é»æ“Š "â† å›é¦–é " å¯ä»¥è¿”å›é¦–é 
- [ ] çœ‹åˆ°é¤å»³åˆ—è¡¨ï¼ˆå¦‚æœæœ‰æ•¸æ“šï¼‰
- [ ] çœ‹åˆ°ç™»å…¥è¡¨å–®ï¼ˆå¦‚æœæœªç™»å…¥ï¼‰

### 3. Magic Link èªè­‰æ¸¬è©¦ï¼ˆé—œéµï¼ï¼‰

#### æ­¥é©Ÿ A: ç™¼é€ Magic Link

1. åœ¨ `/ratings` é é¢è¼¸å…¥ Email
2. é»æ“Š "å¯„é€ç™»å…¥é€£çµ"
3. æª¢æŸ¥ï¼š
   - [ ] é¡¯ç¤ºæˆåŠŸè¨Šæ¯ "å·²å¯„é€ç™»å…¥é€£çµåˆ°ä½ çš„ Email"
   - [ ] æ”¶åˆ° Magic Link Email

#### æ­¥é©Ÿ B: é»æ“Š Magic Linkï¼ˆæœ€é‡è¦ï¼ï¼‰

1. é»æ“Š Email ä¸­çš„ Magic Link
2. **æª¢æŸ¥ URL è®ŠåŒ–**ï¼š
   - âœ… **æ­£ç¢º**ï¼š`http://localhost:3000/auth/callback?code=...`
   - âœ… **ç„¶å¾Œè‡ªå‹•è·³è½‰åˆ°**ï¼š`http://localhost:3000/ratings?m=logged_in&t=...`
   - âŒ **éŒ¯èª¤**ï¼šåœç•™åœ¨ `http://localhost:3000/?code=...`

3. **æª¢æŸ¥é é¢ç‹€æ…‹**ï¼š
   - [ ] é¡¯ç¤º "ç™»å…¥æˆåŠŸï¼" è¨Šæ¯
   - [ ] é¡¯ç¤ºç”¨æˆ¶ Emailï¼ˆåœ¨å³ä¸Šè§’ï¼‰
   - [ ] é¡¯ç¤º "ç™»å‡º" æŒ‰éˆ•
   - [ ] ä¸é¡¯ç¤ºç™»å…¥è¡¨å–®
   - [ ] é¡¯ç¤º "æ–°å¢é¤å»³" åŠŸèƒ½

### 4. ç™»å…¥å¾ŒåŠŸèƒ½æ¸¬è©¦

- [ ] å¯ä»¥æ–°å¢é¤å»³
- [ ] å¯ä»¥æ–°å¢è©•è«–
- [ ] å¯ä»¥æŸ¥çœ‹è‡ªå·±çš„è©•è«–
- [ ] å¯ä»¥åˆªé™¤è‡ªå·±çš„è©•è«–

### 5. ç™»å‡ºæ¸¬è©¦

- [ ] é»æ“Š "ç™»å‡º" æŒ‰éˆ•
- [ ] é¡¯ç¤º "å·²ç™»å‡º" è¨Šæ¯
- [ ] ç™»å…¥è¡¨å–®é‡æ–°é¡¯ç¤º
- [ ] ç„¡æ³•æ–°å¢é¤å»³ï¼ˆéœ€è¦ç™»å…¥ï¼‰

---

## ğŸ” ä»£ç¢¼æª¢æŸ¥

### Magic Link é‡å®šå‘è™•ç†

- [x] `apps/home/src/app/page.tsx` - å·²æ·»åŠ  `code` åƒæ•¸æª¢æ¸¬å’Œé‡å®šå‘
- [x] `apps/home/src/app/auth/callback/route.ts` - å›èª¿è·¯ç”±å­˜åœ¨
- [x] `apps/home/src/app/auth/login/route.ts` - è¨­ç½® `emailRedirectTo: /auth/callback`
- [x] `apps/home/src/lib/auth/utils.ts` - `createAuthRedirectUrl` é‡å®šå‘åˆ° `/ratings`

### æ•´åˆæª¢æŸ¥

- [x] `apps/home/src/app/ratings/page.tsx` - è©•åˆ†ç³»çµ±é é¢å­˜åœ¨
- [x] `apps/home/src/components/ratings/` - æ‰€æœ‰çµ„ä»¶å·²è¤‡è£½
- [x] `apps/home/next.config.ts` - é…ç½® `transpilePackages`
- [x] `apps/home/package.json` - ä¾è³´å·²æ•´åˆ

---

## ğŸ“‹ Supabase é…ç½®æª¢æŸ¥

è«‹ç¢ºèª Supabase Dashboard ä¸­çš„ Redirect URLs åŒ…å«ï¼š

```
https://ichen-app-restaurant-ratings.vercel.app/auth/callback
http://localhost:3000/auth/callback
```

**å¦‚æœéƒ¨ç½²æ•´åˆå¾Œçš„æ‡‰ç”¨ï¼Œé‚„éœ€è¦æ·»åŠ æ–°çš„ Vercel URL**ã€‚

---

## âœ… æ¸¬è©¦é€šéæ¨™æº–

æ‰€æœ‰ä»¥ä¸‹é …ç›®éƒ½é€šéå¾Œï¼Œæ‰èƒ½æ¨é€åˆ° GitHubï¼š

- [x] âœ… å»ºç½®æ¸¬è©¦é€šé
- [ ] âœ… é¦–é åŠŸèƒ½æ­£å¸¸
- [ ] âœ… è©•åˆ†ç³»çµ±é é¢æ­£å¸¸
- [ ] âœ… **Magic Link èªè­‰æµç¨‹å®Œæ•´**ï¼ˆæœ€é‡è¦ï¼ï¼‰
- [ ] âœ… ç™»å…¥å¾ŒåŠŸèƒ½æ­£å¸¸
- [ ] âœ… ç™»å‡ºåŠŸèƒ½æ­£å¸¸

---

## ğŸš€ æº–å‚™æ¨é€

å¦‚æœæ‰€æœ‰æ¸¬è©¦éƒ½é€šéï¼š

1. **æª¢æŸ¥è®Šæ›´**ï¼š
   ```bash
   git status
   ```

2. **æ·»åŠ æ‰€æœ‰è®Šæ›´**ï¼š
   ```bash
   git add .
   ```

3. **æäº¤è®Šæ›´**ï¼š
   ```bash
   git commit -m "æ•´åˆ restaurant-ratings åˆ° home æ‡‰ç”¨ï¼Œä¿®å¾© Magic Link é‡å®šå‘å•é¡Œ"
   ```

4. **æ¨é€åˆ° GitHub**ï¼š
   ```bash
   git push origin update/deployment-docs
   ```

5. **å‰µå»º Pull Request** ä¸¦åˆä½µåˆ° `main`

6. **éƒ¨ç½²åˆ° Vercel**ï¼ˆåƒè€ƒ `docs/deployment/INTEGRATED_DEPLOY.md`ï¼‰

---

## ğŸ“ æ¸¬è©¦è¨˜éŒ„

è¨˜éŒ„ä½ çš„æ¸¬è©¦çµæœï¼š

- æ¸¬è©¦æ—¥æœŸï¼š___________
- å»ºç½®æ¸¬è©¦ï¼šâœ… / âŒ
- Magic Link æ¸¬è©¦ï¼šâœ… / âŒ
- æ‰€æœ‰åŠŸèƒ½æ¸¬è©¦ï¼šâœ… / âŒ
- æº–å‚™æ¨é€ï¼šâœ… / âŒ

